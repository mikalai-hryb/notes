# OAuth 2

OAuth 2 — это протокол авторизации, предназначенный для организации доступа клиентских приложений к ресурсам, или данным учетных записей, пользователя на другом сервисе

клиентские приложения - веб-сервисы, мобильные и десктопные приложения
сервисы — Google, GitHub, Facebook и др.

роли
владелец (пользователь): авторизует клиентское приложение на доступ к данным своего аккаунта;

Подготовка:

1. Регистрируем клиентское приложение(BG) в необходимом сервисе (Google)
    * информации о приложении
    * callback URL - урл для завершения авторизации на сервере авторизации (сервер клиентского приложения)
2. Получаем ID клиента (client_id) и секрет клиента (client_secret)
3. Создаём страницы login/signin

Процесс реализации:

1. Пользователь перенаправляется/заходит на страницу авторизации(signin)
2. Пользователь выбирает сервис авторизации (Google)
3. Пользователь предоставляет доступ к данным учетной записи на сервисе (Google). Могут быть не только данные, но и ресурсы на сервисе, например, создавать изменять страницы Google Sheets.
4. После предоставляения необходимых разрешений пользователь попадает на callback URL
    * код авторизации (code, it's a fast-expiring, single-use token) передается как параметр GET-запроса

5. Сервер авторизации (сервер клиентского приложения) делает запрос к OAuth 2 provider (Google) передавая полученный код авторизации (code) и секрет клиента (client_secret)
5. Сервер авторизации (сервер клиентского приложения) проверяет код и возвращает клиентскому приложению токен доступа (JWT токен)
6. Используя токен клиентское приложение авторизуется на сервере клиентского приложения и получает доступ к необходимым ресурсам (orders)
